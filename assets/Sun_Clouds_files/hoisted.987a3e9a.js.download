import{d as l,a as m,l as q}from"./index.44e508e1.js";import{a as D,b as N}from"./index.119f9a73.js";import{h}from"./index.c4f80e29.js";import{e as d}from"./index.b83f9b73.js";import{d as P,o as A,a as L,b as F}from"./store.48fa87f3.js";import"./hoisted.1e88c565.js";import"./hoisted.53539ab5.js";import"./lazy.ac812cf9.js";import"./signals.module.c4a15b4f.js";import"./preact.module.f85bee2d.js";import"./hooks.module.01477339.js";import"./preload-helper.87151e19.js";function C(){import.meta.url,import("data:text/javascript,").catch(()=>1);async function*e(){}C.g=e}const g=(e,t)=>{if(+__PN_DATA__.uid<=0)return t&&t();e()};let f=null;const k=()=>{if(f)return f;const e=document.querySelector("[data-closest]");return f=Object.assign({},e==null?void 0:e.dataset),f};l("click","[data-downld-name]",function(){const e=this.dataset.downldName,t=this.dataset.downldUrl,n=this.dataset.downldSuffix,o=this.dataset.hueid,s=k();if(!e)return;const i=document.getElementById("GoPremiumBtn");g(()=>{switch(o&&d(o),e){case"png":case"rar":case"ppt":case"twibbon":const a=s.fee=="1"&&e==="png";P({type:s.type||"1",btnType:e,rarName:n||"PSD",goPremiumTxt:(i==null?void 0:i.textContent)||"Go Premium",href:t,downUrl:t,fee:a,licenseType:s.licenseType||0},!1);break;case"edit":t&&window.open(t,"_blank");break;case"mobile":const r=document.querySelector("._bD");r&&(r.__top__=r.__top__||r.getBoundingClientRect().top-40+D(),N(r.__top__));break;default:t&&setTimeout(()=>{window.open(t,"_blank")},100);break}},()=>{d("down-btnnologin")})});l("click","[data-share-btn]",function(){const e=this.dataset.shareBtn,t=location.origin+location.pathname,n=H();switch(e){case"pinterest":F(t+"?share=3",n.media,n.word);break;case"facebook":L(t+"?share=2");break;case"twitter":A(t+"?share=1",n.title);break}});function H(){const e={title:"",media:"",word:""},t=document.querySelector("[data-share-media]");if(t){const{shareTitle:n,shareMedia:o,shareWord:s}=t.dataset;e.title=n||"",e.media=o||"",e.word=s||""}return e}const I="._YH";l("click",I,function(){setTimeout(()=>{d("der-followmain")}),g(()=>{const e=this.dataset.follow,t=this.textContent,n=this.dataset.txt;this.disabled=!0,h.post("/api/async/designer-follow",{id:e}).then(o=>{o.status===200&&(this.textContent=n,this.dataset.txt=t)}).finally(()=>{this.disabled=!1})})});const W="._gD a";l("click","[data-prf-type]",function(){g(()=>{const t=this.dataset.prfType==="enterprise",n=t?"team":"",o=k(),{vip_type:s,enterprise_status:i}=window.__PN_DATA__;o.licenseType==2&&i=="0"?window.open("/team-pay/card?type=2&b=121","_blank"):+s<=0?(m(document,"dialog:toggle",{name:"prf-license",show:!0}),d("prfview-btn"+n)):(this.disabled=!0,m(document,"down:prf",{data:o,isTeam:t,resolve:()=>{this.disabled=!1},reject:()=>{this.disabled=!1}}),d("prfdown-btn"+n))})});l("click",W,function(e){e.preventDefault(),d("relatekeyword-report"),this.href&&setTimeout(()=>{window.open(this.href,"_blank")},100)});const B="._yE ._kH";l("click",B,function(){const e=this.dataset.id;e&&d(`url-similartype-${e}`)});l("click","._oD>span",function(){m(this.parentElement.querySelector('[data-huejs="der-linkmain"]'),"click")});const S="._UH",J="._JJ",_=()=>{m(document,"dialog:toggle",{name:"PreviewImage",show:!0})},y=e=>{var t;(t=document.querySelector(J))==null||t.classList[e?"add":"remove"]("_se")},w=e=>{e.preventDefault()};l("click",S,function(e){w(e),setTimeout(()=>{d("detail-preview-image")},100);const t=document.getElementById("PreviewImage");if(t){if(t.querySelector("img"))return _()}else return;const n=this.querySelector("a"),o=this.querySelector("img");if(!n||!o)return;const s=n.href||o.currentSrc||o.src;if(!s)return;_();const i=n.offsetHeight>n.parentElement.offsetHeight,a=document.createElement("img"),r=i?t:a;r.style.maxWidth=window.innerWidth-40+"px",r.style.maxHeight=window.innerHeight-120+"px",a.className=t.dataset.imgClass||"",a.style.minWidth=i?"640px":"auto",a.alt="",a.oncontextmenu=w,a.onload=a.onabort=a.onerror=()=>{requestAnimationFrame(()=>{y(!0)})},a.src=s,requestAnimationFrame(()=>{y(),t.appendChild(a)})});l("contextmenu",S,w);const U="._FJ",j="._GJ",E="._HJ",R=["_g","_Po"];G();function G(){if(window.innerWidth<1024)return;const e=document.querySelectorAll(U);for(const t of e){const n=t.querySelector(j),o=t.querySelector(E);if(!n||!o)continue;const s=[...n.children].filter(u=>u!==o),i=s.length;if(i<=1)continue;const a=getComputedStyle(o,null),r=z({box_w:n.offsetWidth,btn_w:o.offsetWidth,mx:(parseFloat(a.marginLeft)||0)+parseFloat(a.marginRight)||0,len:i,btns:s});$(r,n,o,t)}}function $(e,t,n,o){const s="+"+e.count,i=n.dataset.less,a=o.offsetHeight,r=t.offsetHeight,u=()=>{e.show=!1,n.textContent=s,n.style.removeProperty("width"),t.insertBefore(n,e.el),o.style.cssText+=`height:${a}px;`};q(n,"click",()=>{if(e.show)return u();e.show=!0,t.appendChild(n),n.textContent=i,n.style.width="auto",o.style.cssText+=`height:${r}px;`}),u(),e.count>0&&requestAnimationFrame(()=>{n.classList.remove(...R)})}function z({len:e,mx:t,box_w:n,btn_w:o,btns:s}){const i={el:null,i:0,count:0,show:!1};let a=0;for(let r=0;r<e;r++){const u=s[r];if(a+=u.offsetWidth+t,a+o+t>=n){i.i=r,i.el=u;break}}return i.count=e-i.i,i}const x='input[name="prfRealName"],input[name="prfCompanyName"]',b="_YE",M="._PJ label",c={},v="sorry,there are some problems,please contract us...";document.addEventListener("down:prf",e=>{Object.assign(c,e.detail),Y()});l("input",x,function(){this.parentElement.querySelector("span").hidden=!!this.value});let p=null;l("click",M,function(){this.classList.add(b),p=this},()=>{p&&(p.classList.remove(b),p=null)});l("click","._QJ",function(){const e=O();if(e){this.disabled=!0;const t="/api/message/vrf-name"+(c.isTeam?"-team":""),n={name:e.prfRealName,company_name:e.prfCompanyName,...c.data};(()=>c.isTeam?h.post(t,n):h.get(t,n))().then(s=>{this.disabled=!1,T(!1),s.status==1&&s.url?window.open(s.url,"_blank"):s.status==404&&alert(v)}).catch(()=>{this.disabled=!1})}});function O(){const e=document.querySelectorAll(x),t=new Set,n={};for(const o of e){const s=o.value.trim();o.parentElement.classList[s?"remove":"add"]("_WG"),s?n[o.name]=s:t.add(0)}return t.size?null:n}function T(e){m(document,"dialog:toggle",{name:"prfActualName",show:e})}async function Y(){const e=c.data;if(!e)return;const t="/api/message/vrf-file"+(c.isTeam?"-team":"");h.get(t,{id:e.id,type:e.type,controller:e.controller}).then(n=>{if(n.status==1&&n.url)window.open(n.url,"_blank");else if(!c.isTeam&&n.status==2)alert("sorry,you cannot download personal PRF");else if(n.status==404)alert(v);else{if(n.name){const o=document.querySelector('input[name="prfRealName"]');o&&(o.value=n.name)}T(!0)}}).then(c.resolve).catch(c.reject).finally(()=>{delete c.resolve,delete c.reject})}export{C as __vite_legacy_guard};